{% extends 'PiggyBoxShopBundle::layout.html.twig'%}


{% block body%}

{% include 'PiggyBoxShopBundle:Product:product_sub_header.html.twig' %}

<div id="main">
	<div id="primary" class="site-content container">


	<div class="page-header">
		<h1>{{product.name}}</h1>
	</div>

	<form action="{{ path('monmagasin_mesproduits_create') }}" method="post" {{form_enctype(edit_form)}} class="form-horizontal">
    {{ form_errors(edit_form) }}

		<div class="box box-margined">
		    <div class="row-fluid">

		    	<div class="span4">
		    		<img src="" class="img240x240">
		    	</div>

				<div class="span8">

						<div class="control-group">
							<label class="control-label" for="inputName">Nom du produit</label>
							<div class="controls">
								{{ form_widget(edit_form.name, { 'attr': {'class': 'span12','placeholder':'Nom du produit...'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputDesc">Description</label>
							<div class="controls">
								{{ form_widget(edit_form.description, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputDesc">Origine</label>
							<div class="controls">
								{{ form_widget(edit_form.origin, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputDesc">Conservation</label>
							<div class="controls">
								{{ form_widget(edit_form.preservation, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<hr>

						<div class="control-group">
							<label class="control-label" for="inputName">Changer la photo</label>
							<div class="controls">
								{{ form_widget(edit_form.file, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Choisir une Catégorie</label>
							<div class="controls">
								{{ form_widget(edit_form.category, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Prix au Kilogramme</label>
							<div class="controls">
								{{ form_widget(edit_form.weightPrice) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Prix</label>
							<div class="controls">
								{{ form_widget(edit_form.price) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Type de Prix</label>
							<div class="controls">
								{{ form_widget(edit_form.priceType) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Poids par tranche</label>
							<div class="controls">
								{{ form_widget(edit_form.productWeightPerSlice, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Poid minimum</label>
							<div class="controls">
								{{ form_widget(edit_form.minWeight, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Poid maximum</label>
							<div class="controls">
								{{ form_widget(edit_form.maxWeight, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Minimum de personnes</label>
							<div class="controls">
								{{ form_widget(edit_form.minPerson, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="inputName">Maximum de personnes</label>
							<div class="controls">
								{{ form_widget(edit_form.maxPerson, { 'attr': {'class': 'span12'} }) }}
							</div>
						</div>


				</div>

		    </div>
		</div>

		<div class="row-fluid box-margined">
			<div class="span2">
				<button type="submit" class="btn btn-large btn-block">Annuler</button>
			</div>
			<div class="span10">
				<button type="submit" class="btn btn-large btn-block btn-primary"><i class="icon-ok icon-white"></i> Ajouter ce produit</button>
			</div>
		</div>

{{ form_widget(edit_form._token) }}
</form>

<form class="form-horizontal" action="{{ path('monmagasin_mesproduits_delete', {'id': delete_form.vars.value.id}) }}" method="post" {{ form_enctype(delete_form) }}>
	<div class="row-fluid">
		<div class="span3">
			<a id="show-delete-product-confirmation" class="btn btn-large btn-block btn-danger"><i class="icon-trash icon-white"></i> Supprimer</a>
		</div>

		<div id="delete-product-confirmation-container" class="span9 hide">
			<div class="row-fluid">
				{{ form_widget(delete_form) }}
				<div class="span12">
					<h4 style="margin-top: 0;">Etes-vous certain de vouloir supprimer le produit <em>"{{product.name}}"</em></h4>
				</div>
				<div class="span4">
					<a id="hide-delete-product-confirmation" class="btn btn-block"><i class="icon-remove"></i> Annuler</a>
				</div>
				<div class="span7">
					<button class="btn btn-block btn-danger"><i class="icon-trash icon-white"></i> Supprimer définitivement</button>
				</div>
			</div>
		</div>

	</div>
</form>
    </div>
</div>
{% endblock %}

{% block javascript %}
{{parent()}}

<script type="text/javascript">
	// Delete: ask for confirmation
	$("#show-delete-product-confirmation").click(function() {
	  $('#delete-product-confirmation-container').show(400);
	});

	// Cancel: hide confirmation
	$("#hide-delete-product-confirmation").click(function() {
	  $('#delete-product-confirmation-container').hide('fast');
	});
</script>

{% endblock %}
